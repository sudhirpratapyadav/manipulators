# Kinova Gen3 Controller Configuration
# =====================================

kinova:
  ip: "192.168.1.10"
  username: "admin"
  password: "admin"

control:
  # Loop rates (Hz)
  rates:
    hardware_hz: 1000    # UDP loop rate
    ik_hz: 400           # Differential IK rate
    gui_hz: 50           # GUI update rate
    safety_hz: 1000      # Safety monitor rate

  # PD controller gains [J1, J2, J3, J4, J5, J6, J7]
  gains:
    kp: [120.0, 120.0, 120.0, 120.0, 80.0, 80.0, 80.0]
    kd: [12.0, 12.0, 12.0, 12.0, 8.0, 8.0, 2.0]

  # Safety limits
  limits:
    max_velocity_deg_s: 50.0    # Emergency stop if exceeded
    max_pd_torque_nm: 10.0      # PD torque saturation
    position_bound_m: 0.1       # Max EE displacement from home

  # Differential IK parameters
  ik:
    lambda_min: 0.01            # Minimum damping factor
    lambda_max: 0.5             # Maximum damping (at singularities)
    manip_threshold: 0.01       # Manipulability threshold
    max_step_rad: 0.2           # Max joint change per IK iteration

inputs:
  # Keyboard input (always available)
  keyboard:
    position_step_m: 0.05       # Position change per keypress
    rotation_step_rad: 0.1      # Rotation change per keypress

  # OSC input (optional)
  osc:
    enabled: false
    port: 9000
    mappings:
      # TouchOSC example:
      # "/1/fader1": "x"
      # "/1/fader2": "y"
      # "/1/fader3": "z"
      # "/1/rotary1": "rx"
      # "/1/rotary2": "ry"
      # "/1/rotary3": "rz"

  # MIDI input (optional)
  midi:
    enabled: false
    port_name: ""  # Leave empty for first available
    mappings:
      # Example CC mappings:
      # 0: "x"
      # 1: "y"
      # 2: "z"
      # 16: "rx"
      # 17: "ry"
      # 18: "rz"

# Home joint configuration (radians)
home_joints_rad:
  - -0.217
  - 0.993
  - -2.821
  - -1.434
  - -0.383
  - -0.783
  - 1.914
