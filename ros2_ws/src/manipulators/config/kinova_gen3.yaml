control_node:
  ros__parameters:
    # Robot connection
    robot_ip: "192.168.1.10"
    username: "admin"
    password: "admin"

    # URDF (relative to package share, or absolute path)
    urdf_file: "assets/robots/kinova/urdf/gen3_2f85.urdf"
    ee_frame: "gen3_end_effector_link"

    # Home position (degrees) - Kinova 0-360 convention
    home_position_deg: [90.0, 30.0, 0.0, 90.0, 0.0, 60.0, -90.0]

    # Control loop
    control_rate_hz: 400.0

    # Diff-IK gains
    # Task-space proportional gains [x, y, z, rx, ry, rz]
    kp_task: [300.0, 300.0, 300.0, 160.0, 160.0, 160.0]
    # Joint-space position gains (per joint, 1-7). Set to 0 to disable.
    kp_joint: [240.0, 240.0, 240.0, 240.0, 160.0, 160.0, 160.0]
    # Joint-space damping gains (per joint, 1-7)
    kd_joint: [12.0, 12.0, 12.0, 12.0, 8.0, 8.0, 2.0]
    # Damped pseudoinverse regularization
    damping: 0.01

    # Safety limits
    max_joint_velocity: 1.5       # rad/s clamp on diff-IK output
    max_torque: [30.0, 30.0, 30.0, 30.0, 7.0, 7.0, 7.0]  # Nm per joint

    # Named joint poses (degrees, Kinova 0-360 convention)
    # Use initial_pose param to select which pose to go to on startup
    calib_pose_deg: [90.0, 30.0, 0.0, 90.0, 0.0, 60.0, -90.0]

keyboard_teleop:
  ros__parameters:
    linear_step: 0.005            # meters per keypress
    angular_step: 0.05            # radians per keypress
    publish_rate: 30.0            # Hz
